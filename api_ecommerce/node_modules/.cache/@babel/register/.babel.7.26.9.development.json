{"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// import routes from './routes'; \n\n//Conexión a la base de datos\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrl = 'mongodb://localhost:27017/plantilla-ecommerce';\n_mongoose.default.connect(dbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log('Conectado a la base de datos en la url: ' + dbUrl)).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\n// app.use('api/', router) \n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log('Servidor corriendo en el puerto ' + app.get('port'));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRiVXJsIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvbWlrZWFsYmFycmFuL0Rlc2t0b3AvRGVzYXJyb2xsbyBNaWtlL2xvdmVTaG9lc01FQU5maW5hbC9QbGFudGlsbGEtRWNvbW1lcmNlLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuLy8gaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7IFxuXG4vL0NvbmV4acOzbiBhIGxhIGJhc2UgZGUgZGF0b3NcblxubW9uZ29vc2UuUHJvbWlzZSA9IGdsb2JhbC5Qcm9taXNlO1xuY29uc3QgZGJVcmwgPSAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy9wbGFudGlsbGEtZWNvbW1lcmNlJztcbm1vbmdvb3NlLmNvbm5lY3QoZGJVcmwsIHsgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSlcbiAgICAudGhlbihtb25nb29zZSA9PiBjb25zb2xlLmxvZygnQ29uZWN0YWRvIGEgbGEgYmFzZSBkZSBkYXRvcyBlbiBsYSB1cmw6ICcgKyBkYlVybCkpXG4gICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcblxuICAgIGNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbiAgICBhcHAudXNlKGNvcnMoKSk7XG4gICAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG4gICAgYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG4gICAgYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAncHVibGljJykpKTtcbiAgICAvLyBhcHAudXNlKCdhcGkvJywgcm91dGVyKSBcblxuICAgIGFwcC5zZXQoJ3BvcnQnLCBwcm9jZXNzLmVudi5QT1JUIHx8IDMwMDApO1xuICAgIGFwcC5saXN0ZW4oYXBwLmdldCgncG9ydCcpLCAoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWRvciBjb3JyaWVuZG8gZW4gZWwgcHVlcnRvICcgKyBhcHAuZ2V0KCdwb3J0JykpO1xuICAgIH0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxTQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBZ0MsU0FBQUQsdUJBQUFLLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFaEM7O0FBRUE7O0FBRUFHLGlCQUFRLENBQUNDLE9BQU8sR0FBR0MsTUFBTSxDQUFDRCxPQUFPO0FBQ2pDLE1BQU1FLEtBQUssR0FBRywrQ0FBK0M7QUFDN0RILGlCQUFRLENBQUNJLE9BQU8sQ0FBQ0QsS0FBSyxFQUFFO0VBQUVFLGVBQWUsRUFBRSxJQUFJO0VBQUVDLGtCQUFrQixFQUFFO0FBQUssQ0FBQyxDQUFDLENBQ3ZFQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsMENBQTBDLEdBQUdOLEtBQUssQ0FBQyxDQUFDLENBQ2pGTyxLQUFLLENBQUNDLEdBQUcsSUFBSUgsT0FBTyxDQUFDQyxHQUFHLENBQUNFLEdBQUcsQ0FBQyxDQUFDO0FBRS9CLE1BQU1DLEdBQUcsR0FBRyxJQUFBQyxnQkFBTyxFQUFDLENBQUM7QUFDckJELEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLElBQUFDLGFBQUksRUFBQyxDQUFDLENBQUM7QUFDZkgsR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNHLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDdkJKLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDSSxVQUFVLENBQUM7RUFBRUMsUUFBUSxFQUFFO0FBQUssQ0FBQyxDQUFDLENBQUM7QUFDL0NOLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDTSxNQUFNLENBQUNDLGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUN2RDs7QUFFQVYsR0FBRyxDQUFDVyxHQUFHLENBQUMsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLElBQUksQ0FBQztBQUN6Q2QsR0FBRyxDQUFDZSxNQUFNLENBQUNmLEdBQUcsQ0FBQ2dCLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxNQUFNO0VBQzlCcEIsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0NBQWtDLEdBQUdHLEdBQUcsQ0FBQ2dCLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNyRSxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","e","__esModule","default","mongoose","Promise","global","dbUrl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","set","process","env","PORT","listen","get"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/Plantilla-Ecommerce/","sources":["index.js"],"sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport path from 'path';\nimport mongoose from 'mongoose';\n\n// import routes from './routes'; \n\n//Conexión a la base de datos\n\nmongoose.Promise = global.Promise;\nconst dbUrl = 'mongodb://localhost:27017/plantilla-ecommerce';\nmongoose.connect(dbUrl, { useNewUrlParser: true, useUnifiedTopology: true })\n    .then(mongoose => console.log('Conectado a la base de datos en la url: ' + dbUrl))\n    .catch(err => console.log(err));\n\n    const app = express();\n    app.use(cors());\n    app.use(express.json());\n    app.use(express.urlencoded({ extended: true }));\n    app.use(express.static(path.join(__dirname, 'public')));\n    // app.use('api/', router) \n\n    app.set('port', process.env.PORT || 3000);\n    app.listen(app.get('port'), () => {\n        console.log('Servidor corriendo en el puerto ' + app.get('port'));\n    });"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAgC,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEhC;;AAEA;;AAEAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,+CAA+C;AAC7DH,iBAAQ,CAACI,OAAO,CAACD,KAAK,EAAE;EAAEE,eAAe,EAAE,IAAI;EAAEC,kBAAkB,EAAE;AAAK,CAAC,CAAC,CACvEC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,0CAA0C,GAAGN,KAAK,CAAC,CAAC,CACjFO,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AACfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvD;;AAEAV,GAAG,CAACW,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCd,GAAG,CAACe,MAAM,CAACf,GAAG,CAACgB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BpB,OAAO,CAACC,GAAG,CAAC,kCAAkC,GAAGG,GAAG,CAACgB,GAAG,CAAC,MAAM,CAAC,CAAC;AACrE,CAAC,CAAC","ignoreList":[]}},"mtime":1740689578250},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n//Conexión a la base de datos\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrl = 'mongodb://localhost:27017/plantilla-ecommerce';\n_mongoose.default.connect(dbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log('Conectado a la base de datos en la url: ' + dbUrl)).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default);\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log('Servidor corriendo en el puerto ' + app.get('port'));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJtb25nb29zZSIsIlByb21pc2UiLCJnbG9iYWwiLCJkYlVybCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiYXBwIiwiZXhwcmVzcyIsInVzZSIsImNvcnMiLCJqc29uIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwic3RhdGljIiwicGF0aCIsImpvaW4iLCJfX2Rpcm5hbWUiLCJyb3V0ZXIiLCJzZXQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsImdldCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS8iLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJztcblxuLy9Db25leGnDs24gYSBsYSBiYXNlIGRlIGRhdG9zXG5cbm1vbmdvb3NlLlByb21pc2UgPSBnbG9iYWwuUHJvbWlzZTtcbmNvbnN0IGRiVXJsID0gJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvcGxhbnRpbGxhLWVjb21tZXJjZSc7XG5tb25nb29zZVxuICAuY29ubmVjdChkYlVybCwgeyB1c2VOZXdVcmxQYXJzZXI6IHRydWUsIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSB9KVxuICAudGhlbigobW9uZ29vc2UpID0+XG4gICAgY29uc29sZS5sb2coJ0NvbmVjdGFkbyBhIGxhIGJhc2UgZGUgZGF0b3MgZW4gbGEgdXJsOiAnICsgZGJVcmwpXG4gIClcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5hcHAudXNlKGNvcnMoKSk7XG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAncHVibGljJykpKTtcbmFwcC51c2UoJy9hcGkvJywgcm91dGVyKTtcblxuYXBwLnNldCgncG9ydCcsIHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XG5hcHAubGlzdGVuKGFwcC5nZXQoJ3BvcnQnKSwgKCkgPT4ge1xuICBjb25zb2xlLmxvZygnU2Vydmlkb3IgY29ycmllbmRvIGVuIGVsIHB1ZXJ0byAnICsgYXBwLmdldCgncG9ydCcpKTtcbn0pO1xuIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFNBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLE9BQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQU0sQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUU5Qjs7QUFFQUcsaUJBQVEsQ0FBQ0MsT0FBTyxHQUFHQyxNQUFNLENBQUNELE9BQU87QUFDakMsTUFBTUUsS0FBSyxHQUFHLCtDQUErQztBQUM3REgsaUJBQVEsQ0FDTEksT0FBTyxDQUFDRCxLQUFLLEVBQUU7RUFBRUUsZUFBZSxFQUFFLElBQUk7RUFBRUMsa0JBQWtCLEVBQUU7QUFBSyxDQUFDLENBQUMsQ0FDbkVDLElBQUksQ0FBRVAsUUFBUSxJQUNiUSxPQUFPLENBQUNDLEdBQUcsQ0FBQywwQ0FBMEMsR0FBR04sS0FBSyxDQUNoRSxDQUFDLENBQ0FPLEtBQUssQ0FBRUMsR0FBRyxJQUFLSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLENBQUM7QUFFbkMsTUFBTUMsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztBQUNyQkQsR0FBRyxDQUFDRSxHQUFHLENBQUMsSUFBQUMsYUFBSSxFQUFDLENBQUMsQ0FBQztBQUNmSCxHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FBQztBQUN2QkosR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNJLFVBQVUsQ0FBQztFQUFFQyxRQUFRLEVBQUU7QUFBSyxDQUFDLENBQUMsQ0FBQztBQUMvQ04sR0FBRyxDQUFDRSxHQUFHLENBQUNELGdCQUFPLENBQUNNLE1BQU0sQ0FBQ0MsYUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3ZEVixHQUFHLENBQUNFLEdBQUcsQ0FBQyxPQUFPLEVBQUVTLGVBQU0sQ0FBQztBQUV4QlgsR0FBRyxDQUFDWSxHQUFHLENBQUMsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLElBQUksQ0FBQztBQUN6Q2YsR0FBRyxDQUFDZ0IsTUFBTSxDQUFDaEIsR0FBRyxDQUFDaUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU07RUFDaENyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyxrQ0FBa0MsR0FBR0csR0FBRyxDQUFDaUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBQ25FLENBQUMsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","e","__esModule","default","mongoose","Promise","global","dbUrl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/","sources":["index.js"],"sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport path from 'path';\nimport mongoose from 'mongoose';\nimport router from './router';\n\n//Conexión a la base de datos\n\nmongoose.Promise = global.Promise;\nconst dbUrl = 'mongodb://localhost:27017/plantilla-ecommerce';\nmongoose\n  .connect(dbUrl, { useNewUrlParser: true, useUnifiedTopology: true })\n  .then((mongoose) =>\n    console.log('Conectado a la base de datos en la url: ' + dbUrl)\n  )\n  .catch((err) => console.log(err));\n\nconst app = express();\napp.use(cors());\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\napp.use(express.static(path.join(__dirname, 'public')));\napp.use('/api/', router);\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log('Servidor corriendo en el puerto ' + app.get('port'));\n});\n"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE9B;;AAEAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AACjC,MAAME,KAAK,GAAG,+CAA+C;AAC7DH,iBAAQ,CACLI,OAAO,CAACD,KAAK,EAAE;EAAEE,eAAe,EAAE,IAAI;EAAEC,kBAAkB,EAAE;AAAK,CAAC,CAAC,CACnEC,IAAI,CAAEP,QAAQ,IACbQ,OAAO,CAACC,GAAG,CAAC,0CAA0C,GAAGN,KAAK,CAChE,CAAC,CACAO,KAAK,CAAEC,GAAG,IAAKH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAEnC,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AACfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAK,CAAC,CAAC,CAAC;AAC/CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAAES,eAAM,CAAC;AAExBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAChCrB,OAAO,CAACC,GAAG,CAAC,kCAAkC,GAAGG,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,CAAC;AACnE,CAAC,CAAC","ignoreList":[]}},"mtime":1746668777566},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInVzZSIsIlVzZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9taWtlYWxiYXJyYW4vRGVza3RvcC9EZXNhcnJvbGxvIE1pa2UvbG92ZVNob2VzTUVBTmZpbmFsL2FwaV9lY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcic7XG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInO1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKCcvdXNlcnMnLCBVc2VyKTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQixTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUUxQixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBQ1pDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","e","__esModule","default","router","routerx","use","User","_default","exports"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router';\nimport User from './User';\n\nconst router = routerx();\nrouter.use('/users', User);\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE1B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GACZC,MAAM","ignoreList":[]}},"mtime":1746668772081},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middleware/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/users/register\n\nrouter.post('/register', _UserController.default.register);\nrouter.put('/update', _UserController.default.update);\nrouter.get('/list', _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post('/login', _UserController.default.login);\nrouter.delete('/delete', _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJ1c2VyY29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwibGlzdCIsImxvZ2luIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvbWlrZWFsYmFycmFuL0Rlc2t0b3AvRGVzYXJyb2xsbyBNaWtlL2xvdmVTaG9lc01FQU5maW5hbC9hcGlfZWNvbW1lcmNlL3JvdXRlci8iLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcic7XG5pbXBvcnQgdXNlcmNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXInO1xuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZS9hdXRoJztcblxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xuXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIHVzZXJjb250cm9sbGVyLnJlZ2lzdGVyKTtcbnJvdXRlci5wdXQoJy91cGRhdGUnLCB1c2VyY29udHJvbGxlci51cGRhdGUpO1xucm91dGVyLmdldCgnL2xpc3QnLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyY29udHJvbGxlci5saXN0KTtcbnJvdXRlci5wb3N0KCcvbG9naW4nLCB1c2VyY29udHJvbGxlci5sb2dpbik7XG5yb3V0ZXIuZGVsZXRlKCcvZGVsZXRlJywgdXNlcmNvbnRyb2xsZXIucmVtb3ZlKTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7O0FBRXhCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUVDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNqREosTUFBTSxDQUFDSyxHQUFHLENBQUMsU0FBUyxFQUFFRix1QkFBYyxDQUFDRyxNQUFNLENBQUM7QUFDNUNOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLE9BQU8sRUFBRUMsYUFBSSxDQUFDQyxXQUFXLEVBQUVOLHVCQUFjLENBQUNPLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDRSxJQUFJLENBQUMsUUFBUSxFQUFFQyx1QkFBYyxDQUFDUSxLQUFLLENBQUM7QUFDM0NYLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDLFNBQVMsRUFBRVQsdUJBQWMsQ0FBQ1UsTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFoQixPQUFBLEdBRWpDQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","usercontroller","register","put","update","get","auth","verifyAdmin","list","login","delete","remove","_default","exports"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from 'express-promise-router';\nimport usercontroller from '../controllers/UserController';\nimport auth from '../middleware/auth';\n\nconst router = routerx();\n\n//http://localhost:3000/api/users/register\n\nrouter.post('/register', usercontroller.register);\nrouter.put('/update', usercontroller.update);\nrouter.get('/list', auth.verifyAdmin, usercontroller.list);\nrouter.post('/login', usercontroller.login);\nrouter.delete('/delete', usercontroller.remove);\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEF,uBAAc,CAACG,MAAM,CAAC;AAC5CN,MAAM,CAACO,GAAG,CAAC,OAAO,EAAEC,aAAI,CAACC,WAAW,EAAEN,uBAAc,CAACO,IAAI,CAAC;AAC1DV,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACQ,KAAK,CAAC;AAC3CX,MAAM,CAACY,MAAM,CAAC,SAAS,EAAET,uBAAc,CAACU,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEjCC,MAAM","ignoreList":[]}},"mtime":1746671927281},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hashSync(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n      console.log('error', error);\n      // res.status(500).send({\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      // Forzamos el rol a \"admin\" sin depender del cliente\n      req.body.rol = 'admin';\n\n      // Encriptamos la contraseña de forma asincrónica\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n\n      // Creamos el usuario en la base de datos\n      const user = await _models.default.User.create(req.body);\n\n      // Respondemos con éxito\n      res.status(200).json(user);\n    } catch (error) {\n      // Captura de errores\n      res.status(500).send({\n        message: 'Ocurrió un error al registrar el admin'\n      });\n      console.log('Error en register_admin:', error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //Si está registrado en el sistema\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.suretName,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json(USER_FRONTEND);\n        } else {\n          res.status(500).send({\n            message: 'El usuario no existe'\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: 'El usuario no existe'\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: 'admin'\n      });\n      if (user) {\n        // Si está registrado en el sistema\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          console.log('USER COMPLETO QUE VIENE DE BD:', user); // 👈 aquí sí se imprime\n\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.suretName,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json(USER_FRONTEND);\n        } else {\n          res.status(500).send({\n            message: 'El usuario no existe'\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: 'El usuario no existe'\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log('avatar_name', avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      const UserT = await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      res.status(200).json({\n        message: 'El usuario se actualizó correctamente',\n        user: UserT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      const users = await _models.default.User.find().sort({\n        createdAt: -1\n      });\n      res.status(200).json({\n        users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error al listar usuarios'\n      });\n      console.log('Error en list:', error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: 'El usuario se eliminó correctamente',\n        User\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2hTeW5jIiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJyZWdpc3Rlcl9hZG1pbiIsInJvbCIsImhhc2giLCJsb2dpbiIsImZpbmRPbmUiLCJlbWFpbCIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVORCIsIm5hbWUiLCJzdXJuYW1lIiwic3VyZXROYW1lIiwiYXZhdGFyIiwibG9naW5fYWRtaW4iLCJ1cGRhdGUiLCJmaWxlcyIsImltZ19wYXRoIiwicGF0aCIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJVc2VyVCIsImZpbmRCeUlkQW5kVXBkYXRlIiwibGlzdCIsInVzZXJzIiwiZmluZCIsInNvcnQiLCJjcmVhdGVkQXQiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS9jb250cm9sbGVycy8iLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnO1xuaW1wb3J0IHRva2VuIGZyb20gJy4uL3NlcnZpY2VzL3Rva2VuJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICByZWdpc3RlcjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2hTeW5jKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdPY3VycmnDsyB1biBlcnJvcidcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgLy8gcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgIH1cbiAgfSxcblxuICByZWdpc3Rlcl9hZG1pbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEZvcnphbW9zIGVsIHJvbCBhIFwiYWRtaW5cIiBzaW4gZGVwZW5kZXIgZGVsIGNsaWVudGVcbiAgICAgIHJlcS5ib2R5LnJvbCA9ICdhZG1pbic7XG5cbiAgICAgIC8vIEVuY3JpcHRhbW9zIGxhIGNvbnRyYXNlw7FhIGRlIGZvcm1hIGFzaW5jcsOzbmljYVxuICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyZXEuYm9keS5wYXNzd29yZCwgMTApO1xuXG4gICAgICAvLyBDcmVhbW9zIGVsIHVzdWFyaW8gZW4gbGEgYmFzZSBkZSBkYXRvc1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7XG5cbiAgICAgIC8vIFJlc3BvbmRlbW9zIGNvbiDDqXhpdG9cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBDYXB0dXJhIGRlIGVycm9yZXNcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ09jdXJyacOzIHVuIGVycm9yIGFsIHJlZ2lzdHJhciBlbCBhZG1pbidcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGVuIHJlZ2lzdGVyX2FkbWluOicsIGVycm9yKTtcbiAgICB9XG4gIH0sXG5cbiAgbG9naW46IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7XG4gICAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICAgICAgc3RhdGU6IDFcbiAgICAgIH0pO1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgLy9TaSBlc3TDoSByZWdpc3RyYWRvIGVuIGVsIHNpc3RlbWFcbiAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xuXG4gICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVORCA9IHtcbiAgICAgICAgICAgIHRva2VuOiB0b2tlblQsXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VyZXROYW1lLFxuICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKFVTRVJfRlJPTlRFTkQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFbCB1c3VhcmlvIG5vIGV4aXN0ZSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdFbCB1c3VhcmlvIG5vIGV4aXN0ZSdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ09jdXJyacOzIHVuIGVycm9yJ1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBsb2dpbl9hZG1pbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtcbiAgICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgcm9sOiAnYWRtaW4nXG4gICAgICB9KTtcblxuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgLy8gU2kgZXN0w6EgcmVnaXN0cmFkbyBlbiBlbCBzaXN0ZW1hXG4gICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICBpZiAoY29tcGFyZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdVU0VSIENPTVBMRVRPIFFVRSBWSUVORSBERSBCRDonLCB1c2VyKTsgLy8g8J+RiCBhcXXDrSBzw60gc2UgaW1wcmltZVxuXG4gICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCwgdXNlci5yb2wsIHVzZXIuZW1haWwpO1xuXG4gICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVORCA9IHtcbiAgICAgICAgICAgIHRva2VuOiB0b2tlblQsXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgIHN1cm5hbWU6IHVzZXIuc3VyZXROYW1lLFxuICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICAgICAgICByb2w6IHVzZXIucm9sXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKFVTRVJfRlJPTlRFTkQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFbCB1c3VhcmlvIG5vIGV4aXN0ZSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdFbCB1c3VhcmlvIG5vIGV4aXN0ZSdcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ09jdXJyacOzIHVuIGVycm9yJ1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZTogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChyZXEuZmlsZXMpIHtcbiAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xuICAgICAgICB2YXIgbmFtZSA9IGltZ19wYXRoLnNwbGl0KCdcXFxcJyk7XG4gICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XG4gICAgICAgIGNvbnNvbGUubG9nKCdhdmF0YXJfbmFtZScsIGF2YXRhcl9uYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXEuYm9keS5wYXNzd29yZCkge1xuICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG4gICAgICB9XG4gICAgICBjb25zdCBVc2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKFxuICAgICAgICB7IF9pZDogcmVxLmJvZHkuX2lkIH0sXG4gICAgICAgIHJlcS5ib2R5XG4gICAgICApO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnRWwgdXN1YXJpbyBzZSBhY3R1YWxpesOzIGNvcnJlY3RhbWVudGUnLFxuICAgICAgICB1c2VyOiBVc2VyVFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ09jdXJyacOzIHVuIGVycm9yJ1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBsaXN0OiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kKCkuc29ydCh7IGNyZWF0ZWRBdDogLTEgfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXJzIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdPY3VycmnDsyB1biBlcnJvciBhbCBsaXN0YXIgdXN1YXJpb3MnIH0pO1xuICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGVuIGxpc3Q6JywgZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHsgX2lkOiByZXEuYm9keS5faWQgfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdFbCB1c3VhcmlvIHNlIGVsaW1pbsOzIGNvcnJlY3RhbWVudGUnLFxuICAgICAgICBVc2VyXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnT2N1cnJpw7MgdW4gZXJyb3InXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXZCO0VBQ2JHLFFBQVEsRUFBRSxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUM1QixJQUFJO01BQ0ZELEdBQUcsQ0FBQ0UsSUFBSSxDQUFDQyxRQUFRLEdBQUcsTUFBTUMsaUJBQU0sQ0FBQ0MsUUFBUSxDQUFDTCxHQUFHLENBQUNFLElBQUksQ0FBQ0MsUUFBUSxFQUFFLEVBQUUsQ0FBQztNQUNoRSxNQUFNRyxJQUFJLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNDLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRSxJQUFJLENBQUM7TUFDL0NELEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNMLElBQUksQ0FBQztJQUM1QixDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO01BQ2RYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFD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Q0FBQztNQUNERCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CRyxPQUFPLEVBQUUsdUNBQXVDO1FBQ2hEUixJQUFJLEVBQUVtQztNQUNSLENBQUMsQ0FBQztJQUNKLENBQUMsQ0FBQyxPQUFPN0IsS0FBSyxFQUFFO01BQ2RYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUNENkIsSUFBSSxFQUFFLE1BQUFBLENBQU8zQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztJQUN4QixJQUFJO01BQ0YsTUFBTTJDLEtBQUssR0FBRyxNQUFNckMsZUFBTSxDQUFDQyxJQUFJLENBQUNxQyxJQUFJLENBQUMsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFBRUMsU0FBUyxFQUFFLENBQUM7TUFBRSxDQUFDLENBQUM7TUFDOUQ5QyxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVpQztNQUFNLENBQUMsQ0FBQztJQUNqQyxDQUFDLENBQUMsT0FBT2hDLEtBQUssRUFBRTtNQUNkWCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQUVDLE9BQU8sRUFBRTtNQUFzQyxDQUFDLENBQUM7TUFDeEVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGdCQUFnQixFQUFFSixLQUFLLENBQUM7SUFDdEM7RUFDRixDQUFDO0VBQ0RvQyxNQUFNLEVBQUUsTUFBQUEsQ0FBT2hELEdBQUcsRUFBRUMsR0FBRyxLQUFLO0lBQzFCLElBQUk7TUFDRixNQUFNTyxJQUFJLEdBQUcsTUFBTUQsZUFBTSxDQUFDQyxJQUFJLENBQUN5QyxpQkFBaUIsQ0FBQztRQUFFckIsR0FBRyxFQUFFNUIsR0FBRyxDQUFDRSxJQUFJLENBQUMwQjtNQUFJLENBQUMsQ0FBQztNQUN2RTNCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJHLE9BQU8sRUFBRSxxQ0FBcUM7UUFDOUNOO01BQ0YsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDLE9BQU9JLEtBQUssRUFBRTtNQUNkWCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0csSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","e","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hashSync","user","models","User","create","status","json","error","send","message","console","log","register_admin","rol","hash","login","findOne","email","state","compare","tokenT","token","encode","_id","USER_FRONTEND","name","surname","suretName","avatar","login_admin","update","files","img_path","path","split","avatar_name","UserT","findByIdAndUpdate","list","users","find","sort","createdAt","remove","findByIdAndDelete"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs';\nimport models from '../models';\nimport token from '../services/token';\n\nexport default {\n  register: async (req, res) => {\n    try {\n      req.body.password = await bcrypt.hashSync(req.body.password, 10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n      console.log('error', error);\n      // res.status(500).send({\n    }\n  },\n\n  register_admin: async (req, res) => {\n    try {\n      // Forzamos el rol a \"admin\" sin depender del cliente\n      req.body.rol = 'admin';\n\n      // Encriptamos la contraseña de forma asincrónica\n      req.body.password = await bcrypt.hash(req.body.password, 10);\n\n      // Creamos el usuario en la base de datos\n      const user = await models.User.create(req.body);\n\n      // Respondemos con éxito\n      res.status(200).json(user);\n    } catch (error) {\n      // Captura de errores\n      res.status(500).send({\n        message: 'Ocurrió un error al registrar el admin'\n      });\n      console.log('Error en register_admin:', error);\n    }\n  },\n\n  login: async (req, res) => {\n    try {\n      const user = await models.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //Si está registrado en el sistema\n        let compare = await bcrypt.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await token.encode(user._id, user.rol, user.email);\n\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.suretName,\n              avatar: user.avatar\n            }\n          };\n\n          res.status(200).json(USER_FRONTEND);\n        } else {\n          res.status(500).send({\n            message: 'El usuario no existe'\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: 'El usuario no existe'\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await models.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: 'admin'\n      });\n\n      if (user) {\n        // Si está registrado en el sistema\n        let compare = await bcrypt.compare(req.body.password, user.password);\n        if (compare) {\n          console.log('USER COMPLETO QUE VIENE DE BD:', user); // 👈 aquí sí se imprime\n\n          let tokenT = await token.encode(user._id, user.rol, user.email);\n\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              surname: user.suretName,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n\n          res.status(200).json(USER_FRONTEND);\n        } else {\n          res.status(500).send({\n            message: 'El usuario no existe'\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: 'El usuario no existe'\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log('avatar_name', avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await bcrypt.hash(req.body.password, 10);\n      }\n      const UserT = await models.User.findByIdAndUpdate(\n        { _id: req.body._id },\n        req.body\n      );\n      res.status(200).json({\n        message: 'El usuario se actualizó correctamente',\n        user: UserT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      const users = await models.User.find().sort({ createdAt: -1 });\n      res.status(200).json({ users });\n    } catch (error) {\n      res.status(500).send({ message: 'Ocurrió un error al listar usuarios' });\n      console.log('Error en list:', error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({ _id: req.body._id });\n      res.status(200).json({\n        message: 'El usuario se eliminó correctamente',\n        User\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  }\n};\n"],"mappings":"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","ignoreList":[]}},"mtime":1750294834082},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _user = _interopRequireDefault(require(\"./user\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _user.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL3VzZXInO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFVzZXJcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQixTQUFBRCx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRVg7RUFDYkcsSUFBSSxFQUFKQTtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_user","_interopRequireDefault","require","e","__esModule","default","_default","exports","User"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from './user';\n\nexport default {\n  User\n};\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEX;EACbG,IAAI,EAAJA;AACF,CAAC","ignoreList":[]}},"mtime":1740708843440},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  lastname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  // ✅ Nos quedamos con este\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1: Active, 0: Inactive\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model('user', UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsImxhc3RuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKFxuICB7XG4gICAgcm9sOiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAzMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgbGFzdG5hbWU6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6IGZhbHNlIH0sIC8vIOKchSBOb3MgcXVlZGFtb3MgY29uIGVzdGVcbiAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBhdmF0YXI6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgc3RhdGU6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAxIH0sIC8vIDE6IEFjdGl2ZSwgMDogSW5hY3RpdmVcbiAgICBwaG9uZTogeyB0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogMjAsIHJlcXVpcmVkOiBmYWxzZSB9LFxuICAgIGJpcnRoZGF5OiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAyMCwgcmVxdWlyZWQ6IGZhbHNlIH1cbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWVcbiAgfVxuKTtcblxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCd1c2VyJywgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","lastname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/","sources":["user.js"],"sourcesContent":["import mongoose, { Schema } from 'mongoose';\n\nconst UserSchema = new Schema(\n  {\n    rol: { type: String, maxlength: 30, required: true },\n    name: { type: String, maxlength: 250, required: true },\n    lastname: { type: String, maxlength: 250, required: false }, // ✅ Nos quedamos con este\n    email: { type: String, maxlength: 250, required: true, unique: true },\n    password: { type: String, maxlength: 250, required: true },\n    avatar: { type: String, maxlength: 250, required: false },\n    state: { type: Number, default: 1 }, // 1: Active, 0: Inactive\n    phone: { type: String, maxlength: 20, required: false },\n    birthday: { type: String, maxlength: 20, required: false }\n  },\n  {\n    timestamps: true\n  }\n);\n\nconst User = mongoose.model('user', UserSchema);\nexport default User;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAC3B;EACEC,GAAG,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACpDC,IAAI,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtDE,QAAQ,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAM,CAAC;EAAE;EAC7DG,KAAK,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE,IAAI;IAAEI,MAAM,EAAE;EAAK,CAAC;EACrEC,QAAQ,EAAE;IAAER,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1DM,MAAM,EAAE;IAAET,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAM,CAAC;EACzDO,KAAK,EAAE;IAAEV,IAAI,EAAEW,MAAM;IAAE5B,OAAO,EAAE;EAAE,CAAC;EAAE;EACrC6B,KAAK,EAAE;IAAEZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAM,CAAC;EACvDU,QAAQ,EAAE;IAAEb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAM;AAC3D,CAAC,EACD;EACEW,UAAU,EAAE;AACd,CACF,CAAC;AAED,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GACjCgC,IAAI","ignoreList":[]}},"mtime":1750359520545},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_loveshoes', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_loveshoes');\n      const user = await _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZW5jb2RlIiwiX2lkIiwicm9sIiwiZW1haWwiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJkZWNvZGUiLCJ2ZXJpZnkiLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBlbmNvZGU6IGFzeW5jIChfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxuICAgICAge1xuICAgICAgICBfaWQ6IF9pZCxcbiAgICAgICAgcm9sOiByb2wsXG4gICAgICAgIGVtYWlsOiBlbWFpbFxuICAgICAgfSxcbiAgICAgICdlY29tbWVyY2VfbG92ZXNob2VzJyxcbiAgICAgIHtcbiAgICAgICAgZXhwaXJlc0luOiAnMWQnXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG4gIGRlY29kZTogYXN5bmMgKHRva2VuKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgX2lkIH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX2xvdmVzaG9lcycpO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBfaWQ6IF9pZCwgc3RhdGU6IDEgfSk7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFaEI7RUFDYkcsTUFBTSxFQUFFLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEtBQUs7SUFDakMsTUFBTUMsS0FBSyxHQUFHQyxxQkFBRyxDQUFDQyxJQUFJLENBQ3BCO01BQ0VMLEdBQUcsRUFBRUEsR0FBRztNQUNSQyxHQUFHLEVBQUVBLEdBQUc7TUFDUkMsS0FBSyxFQUFFQTtJQUNULENBQUMsRUFDRCxxQkFBcUIsRUFDckI7TUFDRUksU0FBUyxFQUFFO0lBQ2IsQ0FDRixDQUFDO0lBQ0QsT0FBT0gsS0FBSztFQUNkLENBQUM7RUFDREksTUFBTSxFQUFFLE1BQU9KLEtBQUssSUFBSztJQUN2QixJQUFJO01BQ0YsTUFBTTtRQUFFSDtNQUFJLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxxQkFBcUIsQ0FBQztNQUM5RCxNQUFNTSxJQUFJLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNDLE9BQU8sQ0FBQztRQUFFWixHQUFHLEVBQUVBLEdBQUc7UUFBRWEsS0FBSyxFQUFFO01BQUUsQ0FBQyxDQUFDO01BQzlELElBQUlKLElBQUksRUFBRTtRQUNSLE9BQU9BLElBQUk7TUFDYjtNQUNBLE9BQU8sS0FBSztJQUNkLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7TUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztJQUNwQjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","e","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\nimport models from '../models';\n\nexport default {\n  encode: async (_id, rol, email) => {\n    const token = jwt.sign(\n      {\n        _id: _id,\n        rol: rol,\n        email: email\n      },\n      'ecommerce_loveshoes',\n      {\n        expiresIn: '1d'\n      }\n    );\n    return token;\n  },\n  decode: async (token) => {\n    try {\n      const { _id } = await jwt.verify(token, 'ecommerce_loveshoes');\n      const user = await models.User.findOne({ _id: _id, state: 1 });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACbG,MAAM,EAAE,MAAAA,CAAOC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IACjC,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CACpB;MACEL,GAAG,EAAEA,GAAG;MACRC,GAAG,EAAEA,GAAG;MACRC,KAAK,EAAEA;IACT,CAAC,EACD,qBAAqB,EACrB;MACEI,SAAS,EAAE;IACb,CACF,CAAC;IACD,OAAOH,KAAK;EACd,CAAC;EACDI,MAAM,EAAE,MAAOJ,KAAK,IAAK;IACvB,IAAI;MACF,MAAM;QAAEH;MAAI,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,qBAAqB,CAAC;MAC9D,MAAMM,IAAI,GAAG,MAAMC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAAEZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAE,CAAC,CAAC;MAC9D,IAAIJ,IAAI,EAAE;QACR,OAAOA,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1743881602225},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInVzZSIsIlVzZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9taWtlYWxiYXJyYW4vRGVza3RvcC9EZXNhcnJvbGxvIE1pa2UvbG92ZVNob2VzTUVBTmZpbmFsL2FwaV9lY29tbWVyY2Uvcm91dGVyLyIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcic7XG5pbXBvcnQgVXNlciBmcm9tICcuL1VzZXInO1xuXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XG5yb3V0ZXIudXNlKCcvdXNlcnMnLCBVc2VyKTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQixTQUFBRCx1QkFBQUcsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUUxQixNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCRCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxRQUFRLEVBQUVDLGFBQUksQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBQ1pDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","e","__esModule","default","router","routerx","use","User","_default","exports"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router';\nimport User from './User';\n\nconst router = routerx();\nrouter.use('/users', User);\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE1B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GACZC,MAAM","ignoreList":[]}},"mtime":1746668772081},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middleware/auth\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nconst router = (0, _expressPromiseRouter.default)();\n\n//http://localhost:3000/api/users/register\n\nrouter.post('/register', _UserController.default.register);\nrouter.put('/update', _UserController.default.update);\n// router.post('/register_admin', auth.verifyAdmin, usercontroller.register_admin);\n// router.post('/register_admin', auth.verifyAdmin, usercontroller.register_admin);\nrouter.post('/register_admin', _UserController.default.register_admin);\n\n// router.get('/list', auth.verifyAdmin, usercontroller.list);\nrouter.get('/list', _UserController.default.list); // 👈 para pruebas\n// router.post('/register_admin', usercontroller.register_admin);\nrouter.post('/login', _UserController.default.login);\nrouter.post('/login_admin', _UserController.default.login_admin);\nrouter.delete('/delete', _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJ1c2VyY29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwicmVnaXN0ZXJfYWRtaW4iLCJnZXQiLCJsaXN0IiwibG9naW4iLCJsb2dpbl9hZG1pbiIsImRlbGV0ZSIsInJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS9yb3V0ZXIvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInO1xuaW1wb3J0IHVzZXJjb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyJztcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmUvYXV0aCc7XG5cbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcblxuLy9odHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXG5cbnJvdXRlci5wb3N0KCcvcmVnaXN0ZXInLCB1c2VyY29udHJvbGxlci5yZWdpc3Rlcik7XG5yb3V0ZXIucHV0KCcvdXBkYXRlJywgdXNlcmNvbnRyb2xsZXIudXBkYXRlKTtcbi8vIHJvdXRlci5wb3N0KCcvcmVnaXN0ZXJfYWRtaW4nLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XG4vLyByb3V0ZXIucG9zdCgnL3JlZ2lzdGVyX2FkbWluJywgYXV0aC52ZXJpZnlBZG1pbiwgdXNlcmNvbnRyb2xsZXIucmVnaXN0ZXJfYWRtaW4pO1xucm91dGVyLnBvc3QoJy9yZWdpc3Rlcl9hZG1pbicsIHVzZXJjb250cm9sbGVyLnJlZ2lzdGVyX2FkbWluKTtcblxuLy8gcm91dGVyLmdldCgnL2xpc3QnLCBhdXRoLnZlcmlmeUFkbWluLCB1c2VyY29udHJvbGxlci5saXN0KTtcbnJvdXRlci5nZXQoJy9saXN0JywgdXNlcmNvbnRyb2xsZXIubGlzdCk7IC8vIPCfkYggcGFyYSBwcnVlYmFzXG4vLyByb3V0ZXIucG9zdCgnL3JlZ2lzdGVyX2FkbWluJywgdXNlcmNvbnRyb2xsZXIucmVnaXN0ZXJfYWRtaW4pO1xucm91dGVyLnBvc3QoJy9sb2dpbicsIHVzZXJjb250cm9sbGVyLmxvZ2luKTtcbnJvdXRlci5wb3N0KCcvbG9naW5fYWRtaW4nLCB1c2VyY29udHJvbGxlci5sb2dpbl9hZG1pbik7XG5cbnJvdXRlci5kZWxldGUoJy9kZWxldGUnLCB1c2VyY29udHJvbGxlci5yZW1vdmUpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQzs7QUFFeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBRUMsdUJBQWMsQ0FBQ0MsUUFBUSxDQUFDO0FBQ2pESixNQUFNLENBQUNLLEdBQUcsQ0FBQyxTQUFTLEVBQUVGLHVCQUFjLENBQUNHLE1BQU0sQ0FBQztBQUM1QztBQUNBO0FBQ0FOLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLGlCQUFpQixFQUFFQyx1QkFBYyxDQUFDSSxjQUFjLENBQUM7O0FBRTdEO0FBQ0FQLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLE9BQU8sRUFBRUwsdUJBQWMsQ0FBQ00sSUFBSSxDQUFDLENBQUMsQ0FBQztBQUMxQztBQUNBVCxNQUFNLENBQUNFLElBQUksQ0FBQyxRQUFRLEVBQUVDLHVCQUFjLENBQUNPLEtBQUssQ0FBQztBQUMzQ1YsTUFBTSxDQUFDRSxJQUFJLENBQUMsY0FBYyxFQUFFQyx1QkFBYyxDQUFDUSxXQUFXLENBQUM7QUFFdkRYLE1BQU0sQ0FBQ1ksTUFBTSxDQUFDLFNBQVMsRUFBRVQsdUJBQWMsQ0FBQ1UsTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFoQixPQUFBLEdBRWpDQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","e","__esModule","default","router","routerx","post","usercontroller","register","put","update","register_admin","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/router/","sources":["User.js"],"sourcesContent":["import routerx from 'express-promise-router';\nimport usercontroller from '../controllers/UserController';\nimport auth from '../middleware/auth';\n\nconst router = routerx();\n\n//http://localhost:3000/api/users/register\n\nrouter.post('/register', usercontroller.register);\nrouter.put('/update', usercontroller.update);\n// router.post('/register_admin', auth.verifyAdmin, usercontroller.register_admin);\n// router.post('/register_admin', auth.verifyAdmin, usercontroller.register_admin);\nrouter.post('/register_admin', usercontroller.register_admin);\n\n// router.get('/list', auth.verifyAdmin, usercontroller.list);\nrouter.get('/list', usercontroller.list); // 👈 para pruebas\n// router.post('/register_admin', usercontroller.register_admin);\nrouter.post('/login', usercontroller.login);\nrouter.post('/login_admin', usercontroller.login_admin);\n\nrouter.delete('/delete', usercontroller.remove);\n\nexport default router;\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;;AAExB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAEC,uBAAc,CAACC,QAAQ,CAAC;AACjDJ,MAAM,CAACK,GAAG,CAAC,SAAS,EAAEF,uBAAc,CAACG,MAAM,CAAC;AAC5C;AACA;AACAN,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAAEC,uBAAc,CAACI,cAAc,CAAC;;AAE7D;AACAP,MAAM,CAACQ,GAAG,CAAC,OAAO,EAAEL,uBAAc,CAACM,IAAI,CAAC,CAAC,CAAC;AAC1C;AACAT,MAAM,CAACE,IAAI,CAAC,QAAQ,EAAEC,uBAAc,CAACO,KAAK,CAAC;AAC3CV,MAAM,CAACE,IAAI,CAAC,cAAc,EAAEC,uBAAc,CAACQ,WAAW,CAAC;AAEvDX,MAAM,CAACY,MAAM,CAAC,SAAS,EAAET,uBAAc,CAACU,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEjCC,MAAM","ignoreList":[]}},"mtime":1750299384373},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/controllers/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/controllers/UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      req.body.password = await _bcryptjs.default.hashSync(req.body.password, 10);\n      const user = await _models.default.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n      console.log('error', error);\n      // res.status(500).send({\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      // Forzamos el rol a \"admin\" sin depender del cliente\n      req.body.rol = 'admin';\n\n      // Encriptamos la contraseña de forma asincrónica\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n\n      // Creamos el usuario en la base de datos\n      const user = await _models.default.User.create(req.body);\n\n      // Respondemos con éxito\n      res.status(200).json(user);\n    } catch (error) {\n      // Captura de errores\n      res.status(500).send({\n        message: 'Ocurrió un error al registrar el admin'\n      });\n      console.log('Error en register_admin:', error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //Si está registrado en el sistema\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              lastname: user.lastname,\n              avatar: user.avatar\n            }\n          };\n          res.status(200).json(USER_FRONTEND);\n        } else {\n          res.status(500).send({\n            message: 'El usuario no existe'\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: 'El usuario no existe'\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: 'admin'\n      });\n      if (user) {\n        // Si está registrado en el sistema\n        let compare = await _bcryptjs.default.compare(req.body.password, user.password);\n        if (compare) {\n          console.log('USER COMPLETO QUE VIENE DE BD:', user); // 👈 aquí sí se imprime\n\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email);\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              lastname: user.lastname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n          res.status(200).json(USER_FRONTEND);\n        } else {\n          res.status(500).send({\n            message: 'El usuario no existe'\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: 'El usuario no existe'\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log('avatar_name', avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: 'El usuario se actualizó correctamente',\n        user: resource.User.user_list(UserT, avatar_name)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      const users = await _models.default.User.find().sort({\n        createdAt: -1\n      });\n      const formattedUsers = users.map(user => ({\n        _id: user._id,\n        name: user.name,\n        lastname: user.lastname,\n        // ✅ Enviamos como lastname (no surname)\n        email: user.email,\n        avatar: user.avatar,\n        rol: user.rol,\n        createdAt: user.createdAt\n      }));\n      res.status(200).json({\n        users: formattedUsers\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error al listar usuarios'\n      });\n      console.log('Error en list:', error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: 'El usuario se eliminó correctamente',\n        User\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJlIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2hTeW5jIiwidXNlciIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJyZWdpc3Rlcl9hZG1pbiIsInJvbCIsImhhc2giLCJsb2dpbiIsImZpbmRPbmUiLCJlbWFpbCIsInN0YXRlIiwiY29tcGFyZSIsInRva2VuVCIsInRva2VuIiwiZW5jb2RlIiwiX2lkIiwiVVNFUl9GUk9OVEVORCIsIm5hbWUiLCJsYXN0bmFtZSIsImF2YXRhciIsImxvZ2luX2FkbWluIiwidXBkYXRlIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBhdGgiLCJzcGxpdCIsImF2YXRhcl9uYW1lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJVc2VyVCIsInJlc291cmNlIiwidXNlcl9saXN0IiwibGlzdCIsInVzZXJzIiwiZmluZCIsInNvcnQiLCJjcmVhdGVkQXQiLCJmb3JtYXR0ZWRVc2VycyIsIm1hcCIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIl0sInNvdXJjZVJvb3QiOiIvVXNlcnMvbWlrZWFsYmFycmFuL0Rlc2t0b3AvRGVzYXJyb2xsbyBNaWtlL2xvdmVTaG9lc01FQU5maW5hbC9hcGlfZWNvbW1lcmNlL2NvbnRyb2xsZXJzLyIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5pbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XG5pbXBvcnQgdG9rZW4gZnJvbSAnLi4vc2VydmljZXMvdG9rZW4nO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlZ2lzdGVyOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaFN5bmMocmVxLmJvZHkucGFzc3dvcmQsIDEwKTtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5jcmVhdGUocmVxLmJvZHkpO1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ09jdXJyacOzIHVuIGVycm9yJ1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZygnZXJyb3InLCBlcnJvcik7XG4gICAgICAvLyByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgfVxuICB9LFxuXG4gIHJlZ2lzdGVyX2FkbWluOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gRm9yemFtb3MgZWwgcm9sIGEgXCJhZG1pblwiIHNpbiBkZXBlbmRlciBkZWwgY2xpZW50ZVxuICAgICAgcmVxLmJvZHkucm9sID0gJ2FkbWluJztcblxuICAgICAgLy8gRW5jcmlwdGFtb3MgbGEgY29udHJhc2XDsWEgZGUgZm9ybWEgYXNpbmNyw7NuaWNhXG4gICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHJlcS5ib2R5LnBhc3N3b3JkLCAxMCk7XG5cbiAgICAgIC8vIENyZWFtb3MgZWwgdXN1YXJpbyBlbiBsYSBiYXNlIGRlIGRhdG9zXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTtcblxuICAgICAgLy8gUmVzcG9uZGVtb3MgY29uIMOpeGl0b1xuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIENhcHR1cmEgZGUgZXJyb3Jlc1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnT2N1cnJpw7MgdW4gZXJyb3IgYWwgcmVnaXN0cmFyIGVsIGFkbWluJ1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZygnRXJyb3IgZW4gcmVnaXN0ZXJfYWRtaW46JywgZXJyb3IpO1xuICAgIH1cbiAgfSxcblxuICBsb2dpbjogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtcbiAgICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgICBzdGF0ZTogMVxuICAgICAgfSk7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICAvL1NpIGVzdMOhIHJlZ2lzdHJhZG8gZW4gZWwgc2lzdGVtYVxuICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLCB1c2VyLnBhc3N3b3JkKTtcbiAgICAgICAgaWYgKGNvbXBhcmUpIHtcbiAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICBjb25zdCBVU0VSX0ZST05URU5EID0ge1xuICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgbGFzdG5hbWU6IHVzZXIubGFzdG5hbWUsXG4gICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oVVNFUl9GUk9OVEVORCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0VsIHVzdWFyaW8gbm8gZXhpc3RlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogJ0VsIHVzdWFyaW8gbm8gZXhpc3RlJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnT2N1cnJpw7MgdW4gZXJyb3InXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGxvZ2luX2FkbWluOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe1xuICAgICAgICBlbWFpbDogcmVxLmJvZHkuZW1haWwsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICByb2w6ICdhZG1pbidcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodXNlcikge1xuICAgICAgICAvLyBTaSBlc3TDoSByZWdpc3RyYWRvIGVuIGVsIHNpc3RlbWFcbiAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCwgdXNlci5wYXNzd29yZCk7XG4gICAgICAgIGlmIChjb21wYXJlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ1VTRVIgQ09NUExFVE8gUVVFIFZJRU5FIERFIEJEOicsIHVzZXIpOyAvLyDwn5GIIGFxdcOtIHPDrSBzZSBpbXByaW1lXG5cbiAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLCB1c2VyLnJvbCwgdXNlci5lbWFpbCk7XG5cbiAgICAgICAgICBjb25zdCBVU0VSX0ZST05URU5EID0ge1xuICAgICAgICAgICAgdG9rZW46IHRva2VuVCxcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgbGFzdG5hbWU6IHVzZXIubGFzdG5hbWUsXG4gICAgICAgICAgICAgIGF2YXRhcjogdXNlci5hdmF0YXIsXG4gICAgICAgICAgICAgIHJvbDogdXNlci5yb2xcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oVVNFUl9GUk9OVEVORCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0VsIHVzdWFyaW8gbm8gZXhpc3RlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgICAgbWVzc2FnZTogJ0VsIHVzdWFyaW8gbm8gZXhpc3RlJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnT2N1cnJpw7MgdW4gZXJyb3InXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG5cbiAgdXBkYXRlOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHJlcS5maWxlcykge1xuICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuYXZhdGFyLnBhdGg7XG4gICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcbiAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcbiAgICAgICAgY29uc29sZS5sb2coJ2F2YXRhcl9uYW1lJywgYXZhdGFyX25hbWUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlcS5ib2R5LnBhc3N3b3JkKSB7XG4gICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsIDEwKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHsgX2lkOiByZXEuYm9keS5faWQgfSwgcmVxLmJvZHkpO1xuXG4gICAgICBsZXQgVXNlclQgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHsgX2lkOiByZXEuYm9keS5faWQgfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdFbCB1c3VhcmlvIHNlIGFjdHVhbGl6w7MgY29ycmVjdGFtZW50ZScsXG4gICAgICAgIHVzZXI6IHJlc291cmNlLlVzZXIudXNlcl9saXN0KFVzZXJULCBhdmF0YXJfbmFtZSlcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdPY3VycmnDsyB1biBlcnJvcidcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgbGlzdDogYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCgpLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pO1xuXG4gICAgICBjb25zdCBmb3JtYXR0ZWRVc2VycyA9IHVzZXJzLm1hcCgodXNlcikgPT4gKHtcbiAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICBsYXN0bmFtZTogdXNlci5sYXN0bmFtZSwgLy8g4pyFIEVudmlhbW9zIGNvbW8gbGFzdG5hbWUgKG5vIHN1cm5hbWUpXG4gICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyLFxuICAgICAgICByb2w6IHVzZXIucm9sLFxuICAgICAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZEF0XG4gICAgICB9KSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcnM6IGZvcm1hdHRlZFVzZXJzIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IG1lc3NhZ2U6ICdPY3VycmnDsyB1biBlcnJvciBhbCBsaXN0YXIgdXN1YXJpb3MnIH0pO1xuICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGVuIGxpc3Q6JywgZXJyb3IpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlOiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kRGVsZXRlKHsgX2lkOiByZXEuYm9keS5faWQgfSk7XG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdFbCB1c3VhcmlvIHNlIGVsaW1pbsOzIGNvcnJlY3RhbWVudGUnLFxuICAgICAgICBVc2VyXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnT2N1cnJpw7MgdW4gZXJyb3InXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLE1BQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEs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QUFNNEMsS0FBSyxHQUFHLE1BQU10QyxlQUFNLENBQUNDLElBQUksQ0FBQ3NDLElBQUksQ0FBQyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxTQUFTLEVBQUUsQ0FBQztNQUFFLENBQUMsQ0FBQztNQUU5RCxNQUFNQyxjQUFjLEdBQUdKLEtBQUssQ0FBQ0ssR0FBRyxDQUFFNUMsSUFBSSxLQUFNO1FBQzFDc0IsR0FBRyxFQUFFdEIsSUFBSSxDQUFDc0IsR0FBRztRQUNiRSxJQUFJLEVBQUV4QixJQUFJLENBQUN3QixJQUFJO1FBQ2ZDLFFBQVEsRUFBRXpCLElBQUksQ0FBQ3lCLFFBQVE7UUFBRTtRQUN6QlQsS0FBSyxFQUFFaEIsSUFBSSxDQUFDZ0IsS0FBSztRQUNqQlUsTUFBTSxFQUFFMUIsSUFBSSxDQUFDMEIsTUFBTTtRQUNuQmQsR0FBRyxFQUFFWixJQUFJLENBQUNZLEdBQUc7UUFDYjhCLFNBQVMsRUFBRTFDLElBQUksQ0FBQzBDO01BQ2xCLENBQUMsQ0FBQyxDQUFDO01BRUgvQyxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQUVrQyxLQUFLLEVBQUVJO01BQWUsQ0FBQyxDQUFDO0lBQ2pELENBQUMsQ0FBQyxPQUFPckMsS0FBSyxFQUFFO01BQ2RYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFBRUMsT0FBTyxFQUFFO01BQXNDLENBQUMsQ0FBQztNQUN4RUMsT0FBTyxDQUFDQyxHQUFHLENBQUMsZ0JBQWdCLEVBQUVKLEtBQUssQ0FBQztJQUN0QztFQUNGLENBQUM7RUFDRHVDLE1BQU0sRUFBRSxNQUFBQSxDQUFPbkQsR0FBRyxFQUFFQyxHQUFHLEtBQUs7SUFDMUIsSUFBSTtNQUNGLE1BQU1PLElBQUksR0FBRyxNQUFNRCxlQUFNLENBQUNDLElBQUksQ0FBQzRDLGlCQUFpQixDQUFDO1FBQUV4QixHQUFHLEVBQUU1QixHQUFHLENBQUNFLElBQUksQ0FBQzBCO01BQUksQ0FBQyxDQUFDO01BQ3ZFM0IsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNuQkcsT0FBTyxFQUFFLHFDQUFxQztRQUM5Q047TUFDRixDQUFDLENBQUM7SUFDSixDQUFDLENBQUMsT0FBT0ksS0FBSyxFQUFFO01BQ2RYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0Y7QUFDRixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","e","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hashSync","user","models","User","create","status","json","error","send","message","console","log","register_admin","rol","hash","login","findOne","email","state","compare","tokenT","token","encode","_id","USER_FRONTEND","name","lastname","avatar","login_admin","update","files","img_path","path","split","avatar_name","findByIdAndUpdate","UserT","resource","user_list","list","users","find","sort","createdAt","formattedUsers","map","remove","findByIdAndDelete"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/controllers/","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs';\nimport models from '../models';\nimport token from '../services/token';\n\nexport default {\n  register: async (req, res) => {\n    try {\n      req.body.password = await bcrypt.hashSync(req.body.password, 10);\n      const user = await models.User.create(req.body);\n      res.status(200).json(user);\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n      console.log('error', error);\n      // res.status(500).send({\n    }\n  },\n\n  register_admin: async (req, res) => {\n    try {\n      // Forzamos el rol a \"admin\" sin depender del cliente\n      req.body.rol = 'admin';\n\n      // Encriptamos la contraseña de forma asincrónica\n      req.body.password = await bcrypt.hash(req.body.password, 10);\n\n      // Creamos el usuario en la base de datos\n      const user = await models.User.create(req.body);\n\n      // Respondemos con éxito\n      res.status(200).json(user);\n    } catch (error) {\n      // Captura de errores\n      res.status(500).send({\n        message: 'Ocurrió un error al registrar el admin'\n      });\n      console.log('Error en register_admin:', error);\n    }\n  },\n\n  login: async (req, res) => {\n    try {\n      const user = await models.User.findOne({\n        email: req.body.email,\n        state: 1\n      });\n      if (user) {\n        //Si está registrado en el sistema\n        let compare = await bcrypt.compare(req.body.password, user.password);\n        if (compare) {\n          let tokenT = await token.encode(user._id, user.rol, user.email);\n\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              lastname: user.lastname,\n              avatar: user.avatar\n            }\n          };\n\n          res.status(200).json(USER_FRONTEND);\n        } else {\n          res.status(500).send({\n            message: 'El usuario no existe'\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: 'El usuario no existe'\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await models.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: 'admin'\n      });\n\n      if (user) {\n        // Si está registrado en el sistema\n        let compare = await bcrypt.compare(req.body.password, user.password);\n        if (compare) {\n          console.log('USER COMPLETO QUE VIENE DE BD:', user); // 👈 aquí sí se imprime\n\n          let tokenT = await token.encode(user._id, user.rol, user.email);\n\n          const USER_FRONTEND = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              lastname: user.lastname,\n              avatar: user.avatar,\n              rol: user.rol\n            }\n          };\n\n          res.status(200).json(USER_FRONTEND);\n        } else {\n          res.status(500).send({\n            message: 'El usuario no existe'\n          });\n        }\n      } else {\n        res.status(500).send({\n          message: 'El usuario no existe'\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log('avatar_name', avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await bcrypt.hash(req.body.password, 10);\n      }\n      await models.User.findByIdAndUpdate({ _id: req.body._id }, req.body);\n\n      let UserT = await models.User.findOne({ _id: req.body._id });\n      res.status(200).json({\n        message: 'El usuario se actualizó correctamente',\n        user: resource.User.user_list(UserT, avatar_name)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      const users = await models.User.find().sort({ createdAt: -1 });\n\n      const formattedUsers = users.map((user) => ({\n        _id: user._id,\n        name: user.name,\n        lastname: user.lastname, // ✅ Enviamos como lastname (no surname)\n        email: user.email,\n        avatar: user.avatar,\n        rol: user.rol,\n        createdAt: user.createdAt\n      }));\n\n      res.status(200).json({ users: formattedUsers });\n    } catch (error) {\n      res.status(500).send({ message: 'Ocurrió un error al listar usuarios' });\n      console.log('Error en list:', error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await models.User.findByIdAndDelete({ _id: req.body._id });\n      res.status(200).json({\n        message: 'El usuario se eliminó correctamente',\n        User\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrió un error'\n      });\n    }\n  }\n};\n"],"mappings":"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","ignoreList":[]}},"mtime":1750361248261},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _user = _interopRequireDefault(require(\"./user\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  User: _user.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiVXNlciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL3VzZXInO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIFVzZXJcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUEwQixTQUFBRCx1QkFBQUUsQ0FBQSxXQUFBQSxDQUFBLElBQUFBLENBQUEsQ0FBQUMsVUFBQSxHQUFBRCxDQUFBLEtBQUFFLE9BQUEsRUFBQUYsQ0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRVg7RUFDYkcsSUFBSSxFQUFKQTtBQUNGLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_user","_interopRequireDefault","require","e","__esModule","default","_default","exports","User"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/","sources":["index.js"],"sourcesContent":["import User from './user';\n\nexport default {\n  User\n};\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEX;EACbG,IAAI,EAAJA;AACF,CAAC","ignoreList":[]}},"mtime":1740708843440},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/user.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  lastname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  // ✅ Nos quedamos con este\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1: Active, 0: Inactive\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model('user', UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsImxhc3RuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJ1c2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKFxuICB7XG4gICAgcm9sOiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAzMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgbGFzdG5hbWU6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6IGZhbHNlIH0sIC8vIOKchSBOb3MgcXVlZGFtb3MgY29uIGVzdGVcbiAgICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXG4gICAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBhdmF0YXI6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgc3RhdGU6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAxIH0sIC8vIDE6IEFjdGl2ZSwgMDogSW5hY3RpdmVcbiAgICBwaG9uZTogeyB0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogMjAsIHJlcXVpcmVkOiBmYWxzZSB9LFxuICAgIGJpcnRoZGF5OiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAyMCwgcmVxdWlyZWQ6IGZhbHNlIH1cbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWVcbiAgfVxuKTtcblxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCd1c2VyJywgVXNlclNjaGVtYSk7XG5leHBvcnQgZGVmYXVsdCBVc2VyO1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBNEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","lastname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/","sources":["user.js"],"sourcesContent":["import mongoose, { Schema } from 'mongoose';\n\nconst UserSchema = new Schema(\n  {\n    rol: { type: String, maxlength: 30, required: true },\n    name: { type: String, maxlength: 250, required: true },\n    lastname: { type: String, maxlength: 250, required: false }, // ✅ Nos quedamos con este\n    email: { type: String, maxlength: 250, required: true, unique: true },\n    password: { type: String, maxlength: 250, required: true },\n    avatar: { type: String, maxlength: 250, required: false },\n    state: { type: Number, default: 1 }, // 1: Active, 0: Inactive\n    phone: { type: String, maxlength: 20, required: false },\n    birthday: { type: String, maxlength: 20, required: false }\n  },\n  {\n    timestamps: true\n  }\n);\n\nconst User = mongoose.model('user', UserSchema);\nexport default User;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAC3B;EACEC,GAAG,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACpDC,IAAI,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtDE,QAAQ,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAM,CAAC;EAAE;EAC7DG,KAAK,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE,IAAI;IAAEI,MAAM,EAAE;EAAK,CAAC;EACrEC,QAAQ,EAAE;IAAER,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1DM,MAAM,EAAE;IAAET,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAM,CAAC;EACzDO,KAAK,EAAE;IAAEV,IAAI,EAAEW,MAAM;IAAE5B,OAAO,EAAE;EAAE,CAAC;EAAE;EACrC6B,KAAK,EAAE;IAAEZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAM,CAAC;EACvDU,QAAQ,EAAE;IAAEb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAM;AAC3D,CAAC,EACD;EACEW,UAAU,EAAE;AACd,CACF,CAAC;AAED,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GACjCgC,IAAI","ignoreList":[]}},"mtime":1750359520545},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/services/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/services/token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_loveshoes', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_loveshoes');\n      const user = await _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZW5jb2RlIiwiX2lkIiwicm9sIiwiZW1haWwiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJleHBpcmVzSW4iLCJkZWNvZGUiLCJ2ZXJpZnkiLCJ1c2VyIiwibW9kZWxzIiwiVXNlciIsImZpbmRPbmUiLCJzdGF0ZSIsImVycm9yIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS9zZXJ2aWNlcy8iLCJzb3VyY2VzIjpbInRva2VuLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICBlbmNvZGU6IGFzeW5jIChfaWQsIHJvbCwgZW1haWwpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKFxuICAgICAge1xuICAgICAgICBfaWQ6IF9pZCxcbiAgICAgICAgcm9sOiByb2wsXG4gICAgICAgIGVtYWlsOiBlbWFpbFxuICAgICAgfSxcbiAgICAgICdlY29tbWVyY2VfbG92ZXNob2VzJyxcbiAgICAgIHtcbiAgICAgICAgZXhwaXJlc0luOiAnMWQnXG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4gdG9rZW47XG4gIH0sXG4gIGRlY29kZTogYXN5bmMgKHRva2VuKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgX2lkIH0gPSBhd2FpdCBqd3QudmVyaWZ5KHRva2VuLCAnZWNvbW1lcmNlX2xvdmVzaG9lcycpO1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoeyBfaWQ6IF9pZCwgc3RhdGU6IDEgfSk7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICByZXR1cm4gdXNlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgIH1cbiAgfVxufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQStCLFNBQUFELHVCQUFBRyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFaEI7RUFDYkcsTUFBTSxFQUFFLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEtBQUs7SUFDakMsTUFBTUMsS0FBSyxHQUFHQyxxQkFBRyxDQUFDQyxJQUFJLENBQ3BCO01BQ0VMLEdBQUcsRUFBRUEsR0FBRztNQUNSQyxHQUFHLEVBQUVBLEdBQUc7TUFDUkMsS0FBSyxFQUFFQTtJQUNULENBQUMsRUFDRCxxQkFBcUIsRUFDckI7TUFDRUksU0FBUyxFQUFFO0lBQ2IsQ0FDRixDQUFDO0lBQ0QsT0FBT0gsS0FBSztFQUNkLENBQUM7RUFDREksTUFBTSxFQUFFLE1BQU9KLEtBQUssSUFBSztJQUN2QixJQUFJO01BQ0YsTUFBTTtRQUFFSDtNQUFJLENBQUMsR0FBRyxNQUFNSSxxQkFBRyxDQUFDSSxNQUFNLENBQUNMLEtBQUssRUFBRSxxQkFBcUIsQ0FBQztNQUM5RCxNQUFNTSxJQUFJLEdBQUcsTUFBTUMsZUFBTSxDQUFDQyxJQUFJLENBQUNDLE9BQU8sQ0FBQztRQUFFWixHQUFHLEVBQUVBLEdBQUc7UUFBRWEsS0FBSyxFQUFFO01BQUUsQ0FBQyxDQUFDO01BQzlELElBQUlKLElBQUksRUFBRTtRQUNSLE9BQU9BLElBQUk7TUFDYjtNQUNBLE9BQU8sS0FBSztJQUNkLENBQUMsQ0FBQyxPQUFPSyxLQUFLLEVBQUU7TUFDZEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztJQUNwQjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","e","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/services/","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken';\nimport models from '../models';\n\nexport default {\n  encode: async (_id, rol, email) => {\n    const token = jwt.sign(\n      {\n        _id: _id,\n        rol: rol,\n        email: email\n      },\n      'ecommerce_loveshoes',\n      {\n        expiresIn: '1d'\n      }\n    );\n    return token;\n  },\n  decode: async (token) => {\n    try {\n      const { _id } = await jwt.verify(token, 'ecommerce_loveshoes');\n      const user = await models.User.findOne({ _id: _id, state: 1 });\n      if (user) {\n        return user;\n      }\n      return false;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\n"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACbG,MAAM,EAAE,MAAAA,CAAOC,GAAG,EAAEC,GAAG,EAAEC,KAAK,KAAK;IACjC,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CACpB;MACEL,GAAG,EAAEA,GAAG;MACRC,GAAG,EAAEA,GAAG;MACRC,KAAK,EAAEA;IACT,CAAC,EACD,qBAAqB,EACrB;MACEI,SAAS,EAAE;IACb,CACF,CAAC;IACD,OAAOH,KAAK;EACd,CAAC;EACDI,MAAM,EAAE,MAAOJ,KAAK,IAAK;IACvB,IAAI;MACF,MAAM;QAAEH;MAAI,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAE,qBAAqB,CAAC;MAC9D,MAAMM,IAAI,GAAG,MAAMC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAAEZ,GAAG,EAAEA,GAAG;QAAEa,KAAK,EAAE;MAAE,CAAC,CAAC;MAC9D,IAAIJ,IAAI,EAAE;QACR,OAAOA,IAAI;MACb;MACA,OAAO,KAAK;IACd,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1743881602225},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/middleware/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: 'No token'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol === 'Admin' || response.rol === 'Cliente') {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'No está permitido visitar esta ruta'\n        });\n      }\n    } else {\n      res.status(404).send({\n        message: 'El token no es válido'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: 'No token'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol === 'Admin') {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'No está permitido visitar esta ruta'\n        });\n      }\n    } else {\n      res.status(404).send({\n        message: 'El token no es válido'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInZlcmlmeUVjb21tZXJjZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXJzIiwidG9rZW4iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJlc3BvbnNlIiwiZGVjb2RlIiwicm9sIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9taWtlYWxiYXJyYW4vRGVza3RvcC9EZXNhcnJvbGxvIE1pa2UvbG92ZVNob2VzTUVBTmZpbmFsL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZS8iLCJzb3VyY2VzIjpbImF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRva2VuIGZyb20gJy4uL3NlcnZpY2VzL3Rva2VuJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdObyB0b2tlbidcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRva2VuLmRlY29kZShyZXEuaGVhZGVycy50b2tlbik7XG4gICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uucm9sID09PSAnQWRtaW4nIHx8IHJlc3BvbnNlLnJvbCA9PT0gJ0NsaWVudGUnKSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gZXN0w6EgcGVybWl0aWRvIHZpc2l0YXIgZXN0YSBydXRhJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnRWwgdG9rZW4gbm8gZXMgdsOhbGlkbydcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICB2ZXJpZnlBZG1pbjogYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgaWYgKCFyZXEuaGVhZGVycy50b2tlbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ05vIHRva2VuJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5yb2wgPT09ICdBZG1pbicpIHtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyBlc3TDoSBwZXJtaXRpZG8gdmlzaXRhciBlc3RhIHJ1dGEnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdFbCB0b2tlbiBubyBlcyB2w6FsaWRvJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUV2QjtFQUNiRyxlQUFlLEVBQUUsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUN6QyxJQUFJLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUU7TUFDdEIsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1osSUFBSUEsUUFBUSxDQUFDRSxHQUFHLEtBQUssT0FBTyxJQUFJRixRQUFRLENBQUNFLEdBQUcsS0FBSyxTQUFTLEVBQUU7UUFDMURSLElBQUksQ0FBQyxDQUFDO01BQ1IsQ0FBQyxNQUFNO1FBQ0xELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDbkJDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQyxNQUFNO01BQ0xOLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUVESSxXQUFXLEVBQUUsTUFBQUEsQ0FBT1gsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUNyQyxJQUFJLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUU7TUFDdEIsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1osSUFBSUEsUUFBUSxDQUFDRSxHQUFHLEtBQUssT0FBTyxFQUFFO1FBQzVCUixJQUFJLENBQUMsQ0FBQztNQUNSLENBQUMsTUFBTTtRQUNMRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ25CQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsTUFBTTtNQUNMTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_token","_interopRequireDefault","require","e","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/middleware/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: 'No token'\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if (response) {\n      if (response.rol === 'Admin' || response.rol === 'Cliente') {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'No está permitido visitar esta ruta'\n        });\n      }\n    } else {\n      res.status(404).send({\n        message: 'El token no es válido'\n      });\n    }\n  },\n\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: 'No token'\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if (response) {\n      if (response.rol === 'Admin') {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'No está permitido visitar esta ruta'\n        });\n      }\n    } else {\n      res.status(404).send({\n        message: 'El token no es válido'\n      });\n    }\n  }\n};\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACbG,eAAe,EAAE,MAAAA,CAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACzC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACtB,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACZ,IAAIA,QAAQ,CAACE,GAAG,KAAK,OAAO,IAAIF,QAAQ,CAACE,GAAG,KAAK,SAAS,EAAE;QAC1DR,IAAI,CAAC,CAAC;MACR,CAAC,MAAM;QACLD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAM;MACLN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EAEDI,WAAW,EAAE,MAAAA,CAAOX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACrC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACtB,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACZ,IAAIA,QAAQ,CAACE,GAAG,KAAK,OAAO,EAAE;QAC5BR,IAAI,CAAC,CAAC;MACR,CAAC,MAAM;QACLD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAM;MACLN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1740770598708},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/middleware/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/middleware/auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\nvar _default = exports.default = {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: 'No token'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol === 'Admin' || response.rol === 'Cliente') {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'No está permitido visitar esta ruta'\n        });\n      }\n    } else {\n      res.status(404).send({\n        message: 'El token no es válido'\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: 'No token'\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol === 'Admin') {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'No está permitido visitar esta ruta'\n        });\n      }\n    } else {\n      res.status(404).send({\n        message: 'El token no es válido'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsImUiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInZlcmlmeUVjb21tZXJjZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXJzIiwidG9rZW4iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJlc3BvbnNlIiwiZGVjb2RlIiwicm9sIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9taWtlYWxiYXJyYW4vRGVza3RvcC9EZXNhcnJvbGxvIE1pa2UvbG92ZVNob2VzTUVBTmZpbmFsL2FwaV9lY29tbWVyY2UvbWlkZGxld2FyZS8iLCJzb3VyY2VzIjpbImF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRva2VuIGZyb20gJy4uL3NlcnZpY2VzL3Rva2VuJztcblxuZXhwb3J0IGRlZmF1bHQge1xuICB2ZXJpZnlFY29tbWVyY2U6IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGlmICghcmVxLmhlYWRlcnMudG9rZW4pIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdObyB0b2tlbidcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRva2VuLmRlY29kZShyZXEuaGVhZGVycy50b2tlbik7XG4gICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICBpZiAocmVzcG9uc2Uucm9sID09PSAnQWRtaW4nIHx8IHJlc3BvbnNlLnJvbCA9PT0gJ0NsaWVudGUnKSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gZXN0w6EgcGVybWl0aWRvIHZpc2l0YXIgZXN0YSBydXRhJ1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xuICAgICAgICBtZXNzYWdlOiAnRWwgdG9rZW4gbm8gZXMgdsOhbGlkbydcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICB2ZXJpZnlBZG1pbjogYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgaWYgKCFyZXEuaGVhZGVycy50b2tlbikge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcbiAgICAgICAgbWVzc2FnZTogJ05vIHRva2VuJ1xuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcbiAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgIGlmIChyZXNwb25zZS5yb2wgPT09ICdBZG1pbicpIHtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyBlc3TDoSBwZXJtaXRpZG8gdmlzaXRhciBlc3RhIHJ1dGEnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XG4gICAgICAgIG1lc3NhZ2U6ICdFbCB0b2tlbiBubyBlcyB2w6FsaWRvJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFFLENBQUEsV0FBQUEsQ0FBQSxJQUFBQSxDQUFBLENBQUFDLFVBQUEsR0FBQUQsQ0FBQSxLQUFBRSxPQUFBLEVBQUFGLENBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUV2QjtFQUNiRyxlQUFlLEVBQUUsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUN6QyxJQUFJLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUU7TUFDdEIsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1osSUFBSUEsUUFBUSxDQUFDRSxHQUFHLEtBQUssT0FBTyxJQUFJRixRQUFRLENBQUNFLEdBQUcsS0FBSyxTQUFTLEVBQUU7UUFDMURSLElBQUksQ0FBQyxDQUFDO01BQ1IsQ0FBQyxNQUFNO1FBQ0xELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDbkJDLE9BQU8sRUFBRTtRQUNYLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQyxNQUFNO01BQ0xOLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDbkJDLE9BQU8sRUFBRTtNQUNYLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQztFQUVESSxXQUFXLEVBQUUsTUFBQUEsQ0FBT1gsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztJQUNyQyxJQUFJLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUU7TUFDdEIsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUMxQkMsT0FBTyxFQUFFO01BQ1gsQ0FBQyxDQUFDO0lBQ0o7SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBSUksUUFBUSxFQUFFO01BQ1osSUFBSUEsUUFBUSxDQUFDRSxHQUFHLEtBQUssT0FBTyxFQUFFO1FBQzVCUixJQUFJLENBQUMsQ0FBQztNQUNSLENBQUMsTUFBTTtRQUNMRCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ25CQyxPQUFPLEVBQUU7UUFDWCxDQUFDLENBQUM7TUFDSjtJQUNGLENBQUMsTUFBTTtNQUNMTixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ25CQyxPQUFPLEVBQUU7TUFDWCxDQUFDLENBQUM7SUFDSjtFQUNGO0FBQ0YsQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_token","_interopRequireDefault","require","e","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/middleware/","sources":["auth.js"],"sourcesContent":["import token from '../services/token';\n\nexport default {\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: 'No token'\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if (response) {\n      if (response.rol === 'Admin' || response.rol === 'Cliente') {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'No está permitido visitar esta ruta'\n        });\n      }\n    } else {\n      res.status(404).send({\n        message: 'El token no es válido'\n      });\n    }\n  },\n\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      return res.status(404).send({\n        message: 'No token'\n      });\n    }\n    const response = await token.decode(req.headers.token);\n    if (response) {\n      if (response.rol === 'Admin') {\n        next();\n      } else {\n        res.status(403).send({\n          message: 'No está permitido visitar esta ruta'\n        });\n      }\n    } else {\n      res.status(404).send({\n        message: 'El token no es válido'\n      });\n    }\n  }\n};\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EACbG,eAAe,EAAE,MAAAA,CAAOC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACzC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACtB,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACZ,IAAIA,QAAQ,CAACE,GAAG,KAAK,OAAO,IAAIF,QAAQ,CAACE,GAAG,KAAK,SAAS,EAAE;QAC1DR,IAAI,CAAC,CAAC;MACR,CAAC,MAAM;QACLD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAM;MACLN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC;EAEDI,WAAW,EAAE,MAAAA,CAAOX,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;IACrC,IAAI,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAE;MACtB,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QAC1BC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAII,QAAQ,EAAE;MACZ,IAAIA,QAAQ,CAACE,GAAG,KAAK,OAAO,EAAE;QAC5BR,IAAI,CAAC,CAAC;MACR,CAAC,MAAM;QACLD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACnBC,OAAO,EAAE;QACX,CAAC,CAAC;MACJ;IACF,CAAC,MAAM;MACLN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACnBC,OAAO,EAAE;MACX,CAAC,CAAC;IACJ;EACF;AACF,CAAC","ignoreList":[]}},"mtime":1740770598708},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/migrate.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _User = _interopRequireDefault(require(\"./models/User.js\"));\nfunction _interopRequireDefault(e) { return e && e.__esModule ? e : { default: e }; }\n// ruta correcta según tu estructura\n\n_mongoose.default.connect('mongodb://localhost:27017/plantilla-ecommerce', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\nconst migrateSuretName = async () => {\n  try {\n    const usersWithSuretName = await _User.default.find({\n      suretName: {\n        $exists: true\n      }\n    });\n    for (const user of usersWithSuretName) {\n      user.lastname = user.suretName;\n      user.suretName = undefined;\n      await user.save();\n      console.log(`✅ Usuario migrado: ${user.name} ${user.lastname}`);\n    }\n    console.log('\\n🎉 Migración completada con éxito');\n    _mongoose.default.disconnect();\n  } catch (error) {\n    console.error('❌ Error durante la migración:', error);\n    _mongoose.default.disconnect();\n  }\n};\nmigrateSuretName();\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiZSIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwibWlncmF0ZVN1cmV0TmFtZSIsInVzZXJzV2l0aFN1cmV0TmFtZSIsIlVzZXIiLCJmaW5kIiwic3VyZXROYW1lIiwiJGV4aXN0cyIsInVzZXIiLCJsYXN0bmFtZSIsInVuZGVmaW5lZCIsInNhdmUiLCJjb25zb2xlIiwibG9nIiwibmFtZSIsImRpc2Nvbm5lY3QiLCJlcnJvciJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS8iLCJzb3VyY2VzIjpbIm1pZ3JhdGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCBVc2VyIGZyb20gJy4vbW9kZWxzL1VzZXIuanMnOyAvLyBydXRhIGNvcnJlY3RhIHNlZ8O6biB0dSBlc3RydWN0dXJhXG5cbm1vbmdvb3NlLmNvbm5lY3QoJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvcGxhbnRpbGxhLWVjb21tZXJjZScsIHtcbiAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcbn0pO1xuXG5jb25zdCBtaWdyYXRlU3VyZXROYW1lID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJzV2l0aFN1cmV0TmFtZSA9IGF3YWl0IFVzZXIuZmluZCh7XG4gICAgICBzdXJldE5hbWU6IHsgJGV4aXN0czogdHJ1ZSB9XG4gICAgfSk7XG5cbiAgICBmb3IgKGNvbnN0IHVzZXIgb2YgdXNlcnNXaXRoU3VyZXROYW1lKSB7XG4gICAgICB1c2VyLmxhc3RuYW1lID0gdXNlci5zdXJldE5hbWU7XG4gICAgICB1c2VyLnN1cmV0TmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgIGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgY29uc29sZS5sb2coYOKchSBVc3VhcmlvIG1pZ3JhZG86ICR7dXNlci5uYW1lfSAke3VzZXIubGFzdG5hbWV9YCk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ1xcbvCfjokgTWlncmFjacOzbiBjb21wbGV0YWRhIGNvbiDDqXhpdG8nKTtcbiAgICBtb25nb29zZS5kaXNjb25uZWN0KCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIGR1cmFudGUgbGEgbWlncmFjacOzbjonLCBlcnJvcik7XG4gICAgbW9uZ29vc2UuZGlzY29ubmVjdCgpO1xuICB9XG59O1xuXG5taWdyYXRlU3VyZXROYW1lKCk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQW9DLFNBQUFELHVCQUFBRyxDQUFBLFdBQUFBLENBQUEsSUFBQUEsQ0FBQSxDQUFBQyxVQUFBLEdBQUFELENBQUEsS0FBQUUsT0FBQSxFQUFBRixDQUFBO0FBQUM7O0FBRXJDRyxpQkFBUSxDQUFDQyxPQUFPLENBQUMsK0NBQStDLEVBQUU7RUFDaEVDLGVBQWUsRUFBRSxJQUFJO0VBQ3JCQyxrQkFBa0IsRUFBRTtBQUN0QixDQUFDLENBQUM7QUFFRixNQUFNQyxnQkFBZ0IsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDbkMsSUFBSTtJQUNGLE1BQU1DLGtCQUFrQixHQUFHLE1BQU1DLGFBQUksQ0FBQ0MsSUFBSSxDQUFDO01BQ3pDQyxTQUFTLEVBQUU7UUFBRUMsT0FBTyxFQUFFO01BQUs7SUFDN0IsQ0FBQyxDQUFDO0lBRUYsS0FBSyxNQUFNQyxJQUFJLElBQUlMLGtCQUFrQixFQUFFO01BQ3JDSyxJQUFJLENBQUNDLFFBQVEsR0FBR0QsSUFBSSxDQUFDRixTQUFTO01BQzlCRSxJQUFJLENBQUNGLFNBQVMsR0FBR0ksU0FBUztNQUMxQixNQUFNRixJQUFJLENBQUNHLElBQUksQ0FBQyxDQUFDO01BQ2pCQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxzQkFBc0JMLElBQUksQ0FBQ00sSUFBSSxJQUFJTixJQUFJLENBQUNDLFFBQVEsRUFBRSxDQUFDO0lBQ2pFO0lBRUFHLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLHFDQUFxQyxDQUFDO0lBQ2xEZixpQkFBUSxDQUFDaUIsVUFBVSxDQUFDLENBQUM7RUFDdkIsQ0FBQyxDQUFDLE9BQU9DLEtBQUssRUFBRTtJQUNkSixPQUFPLENBQUNJLEtBQUssQ0FBQywrQkFBK0IsRUFBRUEsS0FBSyxDQUFDO0lBQ3JEbEIsaUJBQVEsQ0FBQ2lCLFVBQVUsQ0FBQyxDQUFDO0VBQ3ZCO0FBQ0YsQ0FBQztBQUVEYixnQkFBZ0IsQ0FBQyxDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireDefault","require","_User","e","__esModule","default","mongoose","connect","useNewUrlParser","useUnifiedTopology","migrateSuretName","usersWithSuretName","User","find","suretName","$exists","user","lastname","undefined","save","console","log","name","disconnect","error"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/","sources":["migrate.js"],"sourcesContent":["import mongoose from 'mongoose';\nimport User from './models/User.js'; // ruta correcta según tu estructura\n\nmongoose.connect('mongodb://localhost:27017/plantilla-ecommerce', {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n});\n\nconst migrateSuretName = async () => {\n  try {\n    const usersWithSuretName = await User.find({\n      suretName: { $exists: true }\n    });\n\n    for (const user of usersWithSuretName) {\n      user.lastname = user.suretName;\n      user.suretName = undefined;\n      await user.save();\n      console.log(`✅ Usuario migrado: ${user.name} ${user.lastname}`);\n    }\n\n    console.log('\\n🎉 Migración completada con éxito');\n    mongoose.disconnect();\n  } catch (error) {\n    console.error('❌ Error durante la migración:', error);\n    mongoose.disconnect();\n  }\n};\n\nmigrateSuretName();\n"],"mappings":";;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAAC;;AAErCG,iBAAQ,CAACC,OAAO,CAAC,+CAA+C,EAAE;EAChEC,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AACtB,CAAC,CAAC;AAEF,MAAMC,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EACnC,IAAI;IACF,MAAMC,kBAAkB,GAAG,MAAMC,aAAI,CAACC,IAAI,CAAC;MACzCC,SAAS,EAAE;QAAEC,OAAO,EAAE;MAAK;IAC7B,CAAC,CAAC;IAEF,KAAK,MAAMC,IAAI,IAAIL,kBAAkB,EAAE;MACrCK,IAAI,CAACC,QAAQ,GAAGD,IAAI,CAACF,SAAS;MAC9BE,IAAI,CAACF,SAAS,GAAGI,SAAS;MAC1B,MAAMF,IAAI,CAACG,IAAI,CAAC,CAAC;MACjBC,OAAO,CAACC,GAAG,CAAC,sBAAsBL,IAAI,CAACM,IAAI,IAAIN,IAAI,CAACC,QAAQ,EAAE,CAAC;IACjE;IAEAG,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;IAClDf,iBAAQ,CAACiB,UAAU,CAAC,CAAC;EACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdJ,OAAO,CAACI,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrDlB,iBAAQ,CAACiB,UAAU,CAAC,CAAC;EACvB;AACF,CAAC;AAEDb,gBAAgB,CAAC,CAAC","ignoreList":[]}},"mtime":1750353540553},"{\"assumptions\":{},\"sourceRoot\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"filename\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-duplicate-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regexp-modifiers\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$5\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$6\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$7\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$9\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$10\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$11\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$12\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$16\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/node_modules/@babel/preset-env/lib/index.js$17\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.26.9:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  lastname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1: Active, 0: Inactive\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model('user', UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsImxhc3RuYW1lIiwiZW1haWwiLCJ1bmlxdWUiLCJwYXNzd29yZCIsImF2YXRhciIsInN0YXRlIiwiTnVtYmVyIiwicGhvbmUiLCJiaXJ0aGRheSIsInRpbWVzdGFtcHMiLCJVc2VyIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiL1VzZXJzL21pa2VhbGJhcnJhbi9EZXNrdG9wL0Rlc2Fycm9sbG8gTWlrZS9sb3ZlU2hvZXNNRUFOZmluYWwvYXBpX2Vjb21tZXJjZS9tb2RlbHMvIiwic291cmNlcyI6WyJVc2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IFVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKFxuICB7XG4gICAgcm9sOiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAzMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgbGFzdG5hbWU6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgZW1haWw6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxuICAgIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYXZhdGFyOiB7IHR5cGU6IFN0cmluZywgbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOiBmYWxzZSB9LFxuICAgIHN0YXRlOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMSB9LCAvLyAxOiBBY3RpdmUsIDA6IEluYWN0aXZlXG4gICAgcGhvbmU6IHsgdHlwZTogU3RyaW5nLCBtYXhsZW5ndGg6IDIwLCByZXF1aXJlZDogZmFsc2UgfSxcbiAgICBiaXJ0aGRheTogeyB0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogMjAsIHJlcXVpcmVkOiBmYWxzZSB9XG4gIH0sXG4gIHtcbiAgICB0aW1lc3RhbXBzOiB0cnVlXG4gIH1cbik7XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgndXNlcicsIFVzZXJTY2hlbWEpO1xuZXhwb3J0IGRlZmF1bHQgVXNlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQTRDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FBQSxJQUFBRixDQUFBLElBQUFBLENBQUEsQ0FBQUksVUFBQSxTQUFBSixDQUFBLGVBQUFBLENBQUEsdUJBQUFBLENBQUEseUJBQUFBLENBQUEsV0FBQUssT0FBQSxFQUFBTCxDQUFBLFFBQUFHLENBQUEsR0FBQUosd0JBQUEsQ0FBQUcs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","lastname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"/Users/mikealbarran/Desktop/Desarrollo Mike/loveShoesMEANfinal/api_ecommerce/models/","sources":["User.js"],"sourcesContent":["import mongoose, { Schema } from 'mongoose';\n\nconst UserSchema = new Schema(\n  {\n    rol: { type: String, maxlength: 30, required: true },\n    name: { type: String, maxlength: 250, required: true },\n    lastname: { type: String, maxlength: 250, required: false },\n    email: { type: String, maxlength: 250, required: true, unique: true },\n    password: { type: String, maxlength: 250, required: true },\n    avatar: { type: String, maxlength: 250, required: false },\n    state: { type: Number, default: 1 }, // 1: Active, 0: Inactive\n    phone: { type: String, maxlength: 20, required: false },\n    birthday: { type: String, maxlength: 20, required: false }\n  },\n  {\n    timestamps: true\n  }\n);\n\nconst User = mongoose.model('user', UserSchema);\nexport default User;\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA4C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE5C,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAC3B;EACEC,GAAG,EAAE;IAAEC,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACpDC,IAAI,EAAE;IAAEJ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAK,CAAC;EACtDE,QAAQ,EAAE;IAAEL,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAM,CAAC;EAC3DG,KAAK,EAAE;IAAEN,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE,IAAI;IAAEI,MAAM,EAAE;EAAK,CAAC;EACrEC,QAAQ,EAAE;IAAER,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAK,CAAC;EAC1DM,MAAM,EAAE;IAAET,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAE;EAAM,CAAC;EACzDO,KAAK,EAAE;IAAEV,IAAI,EAAEW,MAAM;IAAE5B,OAAO,EAAE;EAAE,CAAC;EAAE;EACrC6B,KAAK,EAAE;IAAEZ,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAM,CAAC;EACvDU,QAAQ,EAAE;IAAEb,IAAI,EAAEC,MAAM;IAAEC,SAAS,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAM;AAC3D,CAAC,EACD;EACEW,UAAU,EAAE;AACd,CACF,CAAC;AAED,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAAEpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GACjCgC,IAAI","ignoreList":[]}},"mtime":1750353280310}}